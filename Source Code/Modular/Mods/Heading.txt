er="\nH:LOS\nH:LOS"
x=:XL-:XX y=:YL-:YY :0A=(x<0)*((y>0)-0.5)*360+atan(y/x)+180 :VV=""
z=:ZL-:ZZ h=sqrt(k^2+l^2) :0B=(z<0)*((h>0)-0.5)*360+atan(h/z)
:HH="\nH:"+:0A+"\nP:"+:0B if :SD<4 then :HH=er end
if :CL>0 then :Vec=:VV+:HH goto2 end goto5

MEM
:Vec // easy vector out
:0A // heading (0..360)
:0B // pitch (-180..180)


WIP