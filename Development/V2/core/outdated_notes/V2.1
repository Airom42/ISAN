----+----|----+----|----+----|----+----|----+----|----+----|----+----|
//Const stuff
[L]=...
[P]=...
y=999999

//Read rec & convert to B vector
u=(y-:R1)^2-q v=(y-:R2)^2-r w=(y-:R3)^2-s x=(y-:R4)^2-t
:A=u*a+v*b+w*c+x*d :X=u*e+v*f+w*g+x*h :Y=u*i+v*j+w*k+x*l :Z=u*m+v*n+w*o+x*p
----+----|----+----|----+----|----+----|----+----|----+----|----+----|
u=(y-:R1)^2-q v=(y-:R2)^2-r w=(y-:R3)^2-s x=(y-:R4)^2-t z=u*a+v*b+w*c
:A=x*d+z :X=u*e+v*f+w*g+x*h :Y=u*i+v*j+w*k+x*l :Z=u*m+v*n+w*o+x*p goto1
----+----|----+----|----+----|----+----|----+----|----+----|----+----|

//Mem map
  a b c d|e f g h|i j k l|m n o p|q r s t|u v w x|y z
  L L L L|L L L L|L L L L|L L L L|P P P P|B B B B|x T

//L matrix
  a b c d
  e f g h
  i j k l
  m n o p

//P vect
  q r s t

//B vect
  u v w x

//X: transmitter correction
  y = 999999

//T: temporary part of :A
  z

  
:M1="station_hq_imperial_a" :M2="station_hq_kingdom_a"
:M3="station_proving_grounds" :M4="station_capital_imperial_a"
