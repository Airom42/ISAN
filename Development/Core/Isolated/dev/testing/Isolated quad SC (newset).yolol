//////////////////////////////////////////////////////////////////////
// Quad
// 2.0.0
// BSC1
// External
//  A   First signal strength
//  B   Second signal strength
//  C   Third signal strength
//  D   Fourth signal strength
// 
// Internal
//  X   X coordinate
//  Y   Y coordinate
//  Z   Z coordinate
//  I   Last X coordinate
//  J   Last Y coordinate
//  K   Last Z coordinate
// 
// Output
//  X   X coordinate
//  Y   Y coordinate
//  Z   Z coordinates
//  I   Last X coordinate
//  J   Last Y coordinate
//  K   Last Z coordinate
// 
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|  quick newset (no last pos)
//station_hq_imperial_a
//station_proving_grounds
//station_kingdom_outpost_b
//station_kingdom_outpost_b_2

t=999999 
e= 207744.954 f=-1550111.534 g=486779.292 h=-160699.392 i=-46169.175
j=-140483.070 k=  103669.797 l=799664.698 m=-264673.522 n= -4718.935
o=-230400.908 p=  345153.593 q= 41051.448 r= -43636.344 s= -1606.533
a=(t-:A)^2 b=(t-:B)^2 c=(t-:C)^2 d=(t-:D)^2
:X=a/e+b/f+c/g+d/h-i :Y=a/j+b/k+c/l+d/m-n :Z=a/o+b/p+c/q+d/r-s goto5
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|

//--+----|----+----|----+----|----+----|----+----|----+----|----+----|  quick newset
t=999999 
e= 207744.954 f=-1550111.534 g=486779.292 h=-160699.392 i=-46169.175
j=-140483.070 k=  103669.797 l=799664.698 m=-264673.522 n= -4718.935
o=-230400.908 p=  345153.593 q= 41051.448 r= -43636.344 s= -1606.533
a=t-:A b=t-:B c=t-:C d=t-:D a*=a b*=b c*=c d*=d X=a/e+b/f+c/g+d/h-i
:I=:X :J=:Y :K=:Z :X=X :Y=a/j+b/k+c/l+d/m-n :Z=a/o+b/p+c/q+d/r-s goto5
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|

//--+----|----+----|----+----|----+----|----+----|----+----|----+----|  empty magics
t=999999 
//e= f= g= h= i= 
//j= k= l= m= n= 
//o= p= q= r= s=
a=t-:A b=t-:B c=t-:C d=t-:D a*=a b*=b c*=c d*=d X=a/e+b/f+c/g+d/h-i
:I=:X :J=:Y :K=:Z :X=X :Y=a/j+b/k+c/l+d/m-n :Z=a/o+b/p+c/q+d/r-s goto4
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|

//[207744.954,-1550111.534,486779.292,-160699.392],    // X axis consts
//[-140483.070,103669.797,799664.698,-264673.522],   // Y axis consts
//[-230400.908,345153.593,41051.448,-43636.344]     // Z axis consts


//Xoff: -46169.17531645273
//Yoff: -4718.935194001751
//Zoff: -1606.5331240061205

//--+----|----+----|----+----|----+----|----+----|----+----|----+----|
t="\nX:"
u="\nY:"
v="\nZ:"
w=4//whatever line a=(t-:A)... is on
a=(t-:A)^2 b=(t-:B)^2 c=(t-:C)^2 d=(t-:D)^2 w+=(a>x+b>x+c>x+d>x>0)*2      //:ISAN=t+:X+u+:Y+v+:Z
:X=a/e+b/f+c/g+d/h-i :Y=a/j+b/k+c/l+d/m-n :Z=a/o+b/p+c/q+d/r-s goto w
    //Loss of signal!
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|
a=(t-:A)^2 b=(t-:B)^2 c=(t-:C)^2 d=(t-:D)^2 :ISAN=t+:X*w+u+:Y*w+v+:Z*w
:X=a/e+b/f+c/g+d/h-i :Y=a/j+b/k+c/l+d/m-n :Z=a/o+b/p+c/q+d/r-s goto4
//--+----|----+----|----+----|----+----|----+----|----+----|----+----|





