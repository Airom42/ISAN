//ISAN v2 coord redef

//ZN Flight
#include <vector>
#include <iostream>

using namespace std;

int main(){

    //RAW POSITION
    double znxpd[]={ 0, 858.285, 858.730, 858.341, 858.805 };
    double znxnd[]={ 0, 858.285, 858.738, 858.344, 858.811 };
    double znypd[]={ 0, 858.276, 858.741, 858.342, 858.807 };
    double znynd[]={ 0, 858.285, 858.741, 858.343, 858.807 };

    double znxpo[]={ 0, 0.361, 0.360, 0.363, 0.362 };
    double znxno[]={ 0, 0.361, 0.370, 0.363, 0.363 };
    double znypo[]={ 0, 0.352, 0.372, 0.363, 0.364 };
    double znyno[]={ 0, 0.361, 0.372, 0.365, 0.365 };
    //END RAW
    
    double znxp[5] = {0};
    double znxn[5] = {0};
    double znyp[5] = {0};
    double znyn[5] = {0};

    double zn_x[5] = {0};
    double zn_y[5] = {0};
    double zn_avg[5] = {0};

    for(int i=0; i<5; i++){
        znxp[i] = znxpd[i] - znxpo[i];
        znxn[i] = znxnd[i] - znxno[i];
        znyp[i] = znypd[i] - znypo[i];
        znyn[i] = znynd[i] - znyno[i];
        zn_avg[i] = (znxp[i]+znxn[i]+znyp[i]+znyn[i])/4.0;
        zn_x[i] = (znxp[i]-zn_avg[i]) - (znxn[i]-zn_avg[i]);
        zn_y[i] = (znyp[i]-zn_avg[i]) - (znyn[i]-zn_avg[i]);
        if(i>0) zn_avg[i]+=zn_avg[i-1];
    }

    cout<<"\n\nzPOS:[ ";
    for(int i=0; i<5; i++) cout << to_string(-zn_avg[i]) <<", ";
    cout<<"]\n\nX tilt: [";
    for(int i=0; i<5; i++) cout << to_string(zn_x[i]) <<", ";
    cout<<"]\nY tilt: [";
    for(int i=0; i<5; i++) cout << to_string(zn_y[i]) <<", ";
    cout<<"]\n\n";

}



/*
znT0"0999065.5,998646.312,997934.75,997141.75,996319.062,"
znT1"0988871.25,988472.437,988025.125,987534.875,987006.125,"
znT2"0988879,988449.5,987973.75,987457.562,986905.062,"
znT3"0950690,951471.625,952251,953027.25,953801.062,"
znT4"0902886.562,902702.812,902511.812,902313.687,902108.312,"
znT5
znT6
znT7"0898124.687,897994.375,897857,897712.625,897561.187,"

xnT0"0999063,998642.062,997930.312,997137.312,996314.687,"
xnT1"0988865.875,988467,988019.562,987529.25,987000.5,"
xnT2"0988880.625,988450.812,987974.75,987458.187,986905.437,"
xnT3"0950695.25,951476.875,952256.312,953032.625,953806.437,"
xnT4"0902889.437,902705.625,902514.562,902316.437,902111.062,"
xnT5
xnT6
xnT7"0898128.062,897997.75,897860.25,897715.875,897564.375,"

zpT0"0999064.312,998640.5,997927.562,997134.187,996311.312,"
zpT1"0988867.75,988468.5,988020.75,987530.125,987001.062,"
zpT2"0988875.25,988445.25,987969.125,987452.562,986899.75,"
zpT3"0950697.312,951478.875,952258.25,953034.5,953808.25,"
zpT4"0902884.875,902701.062,902510,902311.812,902106.375,"
zpT5
zpT6
zpT7"0898123.5,897993.125,897855.687,897711.25,897559.75,"

xpT0"0999066.875,998644.75,997932,997138.562,996315.625,"
xpT1"0988873.062,988473.937,988026.25,987535.687,987006.687,"
xpT2"0988873.625,988444,987968.187,987451.937,986899.437,"
xpT3"0950692,951473.562,952252.937,953029.125,953802.937,"
xpT4"0902882,902698.25,902507.187,902309.062,902103.687,"
xpT5
xpT6
xpT7"0898120.187,897989.875,897852.437,897708,897556.562,"

ypT0"0999061.437,998641,997929.625,997136.812,996314.25,"
ypT1"0988869.5,988470.437,988022.937,987532.5,987003.562,"
ypT2"0988877.125,988447.375,987971.437,987455.062,986902.437,"
ypT3"0950693.625,951475.25,952254.625,953030.875,953804.687,"
ypT4"0902884.5,902700.687,902509.625,902311.5,902106.125,"
ypT5
ypT6
ypT7"0898123.75,897993.375,897855.937,897711.562,897560.062,"

ynT0"0999068.375,998645.75,997932.75,997139.062,996316.062,"
ynT1"0988869.5,988470.437,988022.937,987532.5,987003.625,"
ynT2"0988877.125,988447.375,987971.437,987455.062,986902.437,"
ynT3"0950693.625,951475.25,952254.625,953030.875,953804.687,"
ynT4"0902886.937,902703.187,902512.125,902314,902108.562,"
ynT5
ynT6
ynT7"0898124.5,897994.187,897856.75,897712.375,897560.875,"
*/
